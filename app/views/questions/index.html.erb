<% provide :page_title, "Questions" %>
<% currently_at 'Questions'%>

<h1 class="mb-4">Questions</h1>
<div class="my-2">

    <%=  link_to 'New question ', new_question_path, class: 'btn btn-primary btn-lg'  %>
</div>

<%= paginate @questions %>

<p> List of questions: </p>
<% @questions.each do |question| %>
    <article class="card">
    <div class="card-body">
    <h4>  <%= question.title %>  </h4>
    <p> by:<%= question.user.name  %> </p>
    <section class="card-text">
    <p class="my-2">
      <%= truncate strip_tags(question.body), length: 150 %>
    </p>

    <p> answers: <%= question.answers.count  %> </p>
    </section>
        <%= link_to 'Show ', question_path(question), class: 'btn btn-primary'%>
        <%= link_to 'Edit ', edit_question_path(question), class: 'btn btn-secondary' %>
        <%= link_to 'Delete ', question_path(question), class:'btn btn-danger',data: {method: :delete, confirm: 'Are you sure?'} %>
    </div>
    </article>
<% end %>
<%= paginate @questions%>
